---
import Layout from '../layouts/Layout.astro';
import DescriptionCard from '../components/DescriptionCard';
import { runner } from '@plugit/core';

export const actions = {
  description: async () => {
    try {
      const result = await runner.run('description', {});
      if (result.success) {
        return {
          data: { tasks: result.data }
        };
      } else {
        return {
          error: new Error(result.error || 'Failed to fetch tasks')
        };
      }
    } catch (error) {
      return {
        error: new Error('An error occurred while fetching tasks')
      };
    }
  }
};
---

<Layout title="Plug It Demo">
  <div class="max-w-4xl mx-auto">
    <div class="pb-5 border-b border-gray-200 mb-6">
      <h2 class="text-2xl font-bold leading-tight text-gray-900">Task Descriptions</h2>
      <p class="mt-2 text-sm text-gray-500">
        This page shows all available tasks and their descriptions.
      </p>
    </div>
    
    <DescriptionCard client:load />
  </div>
</Layout> 